{"version":3,"sources":["firebase.js","App.js","reportWebVitals.js","Login.js","index.js"],"names":["config","apiKey","process","authDomain","databaseURL","REACT_APP_FB_DATABASE_URL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","App","initFirebaseAuth","Promise","resolve","auth","onAuthStateChanged","user","console","log","useEffect","a","uid","displayName","getUserData","className","onClick","provider","FacebookAuthProvider","addScope","signInWithPopup","then","result","catch","error","align","iconSize","size","style","fontSize","signOut","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","login","id","class","ReactDOM","render","StrictMode","Login","document","getElementById"],"mappings":"+QAGMA,G,MAAS,CACbC,OAAQC,0CACRC,WAAYD,qCACZE,YAAaF,2dAAYG,0BACzBC,UAAWJ,qBACXK,cAAeL,iCACfM,kBAAmBN,eACnBO,MAAOP,8CAGTQ,IAASC,cAAcX,GAERU,QAAf,E,OCiFeE,MA3Ff,WACE,IAuCMC,EAAmB,WACvB,OAAO,IAAIC,SAAQ,SAACC,GAClBL,EAASM,OAAOC,oBAAmB,SAACC,GAElCH,EAAQG,GACRC,QAAQC,IAAI,sBA8BlB,OAvBAC,qBAAU,WAAM,4CACd,4BAAAC,EAAA,sEACqBT,IADrB,cACQK,EADR,SAIIC,QAAQC,IAAIF,GAEdC,QAAQC,IAAI,sBANd,SAOQV,EAASM,OAAOC,mBAAhB,uCAAmC,WAAOC,GAAP,iBAAAI,EAAA,0DACnCJ,EADmC,uBAE7BK,EAAqBL,EAArBK,IAAKC,EAAgBN,EAAhBM,YACbL,QAAQC,IAAIG,GACZJ,QAAQC,IAAII,GAJyB,kBAK9B,MAL8B,OAOvCL,QAAQC,IAAI,4BAP2B,2CAAnC,uDAPR,OAiBED,QAAQC,IAAI,iCAjBd,4CADc,uBAAC,WAAD,wBAoBdK,KACC,IAGD,sBAAKC,UAAU,MAAf,UACE,cAAC,sBAAD,CACEC,QA7EgB,WAEpB,IAAMC,EAAW,IAAIlB,EAASM,KAAKa,qBAGnCD,EAASE,SACP,4DAEFpB,EACGM,OACAe,gBAAgBH,GAChBI,MAAK,SAACC,GACL,IAAIf,EAAOe,EAAOf,KAClBC,QAAQC,IAAI,QACZD,QAAQC,IAAIF,GACZC,QAAQC,IAAI,UACZD,QAAQC,IAAIa,GACZd,QAAQC,IAAI,sBAEbc,OAAM,SAACC,GACNhB,QAAQC,IAAIe,OA0DZC,MAAM,SACNC,SAAU,KACVC,KAAM,KAJR,SAME,sBAAMC,MAAO,CAAEC,SAAU,IAAzB,sDAEF,wBAAQb,QA7DW,WACrBjB,EAASM,OAAOyB,WA4Dd,qBACA,wBAAQd,QA1DW,WACrBjB,EAASM,OAAOC,oBAAmB,SAACC,GAClC,GAAIA,EAAM,CACR,IAAIK,EAAML,EAAKK,IACfJ,QAAQC,IAAIG,GACZJ,QAAQC,IAAIF,QAqDd,sDC/ESwB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBZ,MAAK,YAAkD,IAA/Ca,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCcCO,EAnBD,WACZ,OACE,gCACE,oDACA,qBAAKC,GAAG,UAAR,SACE,qBACEC,MAAM,kBACN,aAAW,GACX,YAAU,QACV,mBAAiB,gBACjB,cAAY,UACZ,wBAAsB,QACtB,uBAAqB,gBCP/BC,IAASC,OACP,eAAC,IAAMC,WAAP,WACE,cAAC,EAAD,IACA,cAACC,EAAD,OAEFC,SAASC,eAAe,SAM1BhB,M","file":"static/js/main.5f61803c.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nconst config = {\n  apiKey: process.env.REACT_APP_FB_API_KEY,\n  authDomain: process.env.REACT_APP_FB_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FB_DATABASE_URL,\n  projectId: process.env.REACT_APP_FB_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FB_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FB_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FB_APP_ID,\n};\n\nfirebase.initializeApp(config);\n\nexport default firebase;\n","import \"./App.css\";\nimport React, { useEffect } from \"react\";\nimport { FacebookLoginButton } from \"react-social-login-buttons\";\nimport firebase from \"./firebase\";\n\nfunction App() {\n  const facebookLogin = () => {\n    // フェイスブックログイン処理\n    const provider = new firebase.auth.FacebookAuthProvider();\n\n    // provider.addScope(\"instagram_basic,pages_show_list\");\n    provider.addScope(\n      \"user_gender,user_friends,pages_show_list,instagram_basic\"\n    );\n    firebase\n      .auth()\n      .signInWithPopup(provider)\n      .then((result) => {\n        var user = result.user;\n        console.log(\"user\");\n        console.log(user);\n        console.log(\"result\");\n        console.log(result);\n        console.log(\"facebook login \");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n  const facebookLogout = () => {\n    firebase.auth().signOut();\n  };\n\n  const checkLoginUser = () => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        var uid = user.uid;\n        console.log(uid);\n        console.log(user);\n        // ...\n      } else {\n      }\n    });\n  };\n\n  const initFirebaseAuth = () => {\n    return new Promise((resolve) => {\n      firebase.auth().onAuthStateChanged((user) => {\n        // user オブジェクトを resolve\n        resolve(user);\n        console.log(\"unsubscribe\");\n        // 登録解除\n        // unsubscribe();\n      });\n    });\n  };\n\n  useEffect(() => {\n    async function getUserData() {\n      const user = await initFirebaseAuth();\n      // ログインしていれば中通る\n      if (user) {\n        console.log(user); // ユーザー情報が表示される\n      }\n      console.log(\"---------useEffect\");\n      await firebase.auth().onAuthStateChanged(async (user) => {\n        if (user) {\n          const { uid, displayName } = user;\n          console.log(uid);\n          console.log(displayName);\n          return null;\n        }\n        console.log(\"---------useEffect after\");\n      });\n\n      console.log(\"---------useEffect after22222\");\n    }\n    getUserData();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <FacebookLoginButton\n        onClick={facebookLogin}\n        align=\"center\"\n        iconSize={\"20\"}\n        size={\"40\"}\n      >\n        <span style={{ fontSize: 16 }}>Facebookでログイン</span>\n      </FacebookLoginButton>\n      <button onClick={facebookLogout}>log out</button>\n      <button onClick={checkLoginUser}>ユーザを確認</button>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\n\nconst login = () => {\n  return (\n    <div>\n      <p>facebook　login</p>\n      <div id=\"fb-root\">\n        <div\n          class=\"fb-login-button\"\n          data-width=\"\"\n          data-size=\"large\"\n          data-button-type=\"continue_with\"\n          data-layout=\"default\"\n          data-auto-logout-link=\"false\"\n          data-use-continue-as=\"false\"\n        ></div>\n      </div>\n    </div>\n  );\n};\n\nexport default login;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport Login from \"./Login\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    <Login />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}